import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns


def plot_stacked_bar(df, title, save_fn):
    # df = pd.DataFrame(columns=["CC", "", "C1", "C2",
    #                            "C3", "C4",
    #                            "C5", "C6", "C7"],
    #                   data=[["ML",0,0,1,1,1,0.7,1,0],
    #                         ["CG",0,0,1,1,0,1,1,0],
    #                         ["C",0,0.5,0.1,0.5,0.2,0,1,0],
    #                         ["AD",0,1,1,1,1,0,1,1],
    #                         ["DS",0,0.5,1,0,1,0,0,0],
    #                         ["CP",0,1,1,1,1,0,1,0.8],
    #                         ["SE",0,0,1,1,0,1,1,0],
    #                         ["NS",0,1.5,0,1,0.8,0.2,1,0]])

    # fig, ax = plt.subplots()
    sns.set()
    df.set_index('CC').T.plot(kind='bar', stacked=True)

    plt.title(title)
    plt.xlabel("clusters")
    plt.xticks(rotation=0)
    plt.ylabel("# term")
    plt.tight_layout()
    # plt.show()
    plt.savefig(save_fn.replace("-", "_"), dpi=1000)


def box_plotting(data):
    # data {x:["syn_hyp, syn_hyp, ig, ig, hybrid, hybrid"], y:[], lda: [1,2,1,2,1,2]}

    import seaborn as sns

    ax = sns.boxplot(x="y", y="x", hue="models",
                     data=data, linewidth=2.5)
    plt.xlabel("")
    plt.ylabel("")
    plt.tight_layout()
    plt.show()


# plot_stacked_bar()
import pandas as pd


x = [0.655483870967742, 0.6541935483870968, 0.6636559139784947, 0.6464516129032258, 0.6533333333333333, 0.6593548387096774, 0.6546236559139785, 0.6670967741935484, 0.6486021505376344, 0.6623655913978495, 0.6632258064516129, 0.6498924731182796, 0.6430107526881721, 0.6610752688172044, 0.6541935483870968, 0.6606451612903226, 0.666236559139785, 0.6529032258064517, 0.650752688172043, 0.6559139784946236]+[0.6176344086021506, 0.6395698924731182, 0.6412903225806451, 0.6369892473118279, 0.6460215053763441, 0.6378494623655914, 0.6438709677419355, 0.644731182795699, 0.6253763440860215, 0.6361290322580645, 0.6369892473118279, 0.6348387096774194, 0.632258064516129, 0.6412903225806451, 0.64, 0.6395698924731182, 0.6404301075268817, 0.6270967741935484, 0.6511827956989247, 0.6421505376344085]+[0.6038709677419355, 0.556989247311828, 0.6068817204301076, 0.6249462365591398, 0.5815053763440861, 0.5673118279569892, 0.5849462365591398, 0.6197849462365591, 0.6270967741935484, 0.5591397849462365, 0.5978494623655914, 0.5858064516129032, 0.5836559139784946, 0.5341935483870968, 0.5924731182795699, 0.5298924731182796, 0.5935483870967742, 0.6034408602150537, 0.58129032258064514, 0.5664516129032258 ]+[0.5836559139784946, 0.596989247311828, 0.6094623655913979, 0.5819354838709677, 0.6098924731182795, 0.5754838709677419, 0.5810752688172043, 0.5711827956989247, 0.5483870967741935, 0.5870967741935483, 0.5419354838709678, 0.596989247311828, 0.5991397849462365, 0.5926881720430107, 0.5789247311827957, 0.596989247311828, 0.6111827956989248, 0.6120430107526882, 0.5789247311827957, 0.5776344086021505]+[0.6111827956989248, 0.6167741935483871, 0.6245161290322581, 0.6193548387096774, 0.6206451612903225, 0.6219354838709678, 0.6348387096774194, 0.6141935483870967, 0.6266666666666667, 0.6193548387096774, 0.6206451612903225, 0.618494623655914, 0.6266666666666667, 0.6163440860215054, 0.6206451612903225,  0.6133333333333333, 0.607741935483871, 0.6348387096774194, 0.6137634408602151, 0.6111827956989248]+[0.6111827956989248, 0.6240860215053764, 0.6163440860215054, 0.6137634408602151, 0.6116129032258064, 0.6159139784946237, 0.6137634408602151, 0.6270967741935484, 0.6137634408602151, 0.6124731182795699, 0.6172043010752688, 0.6098924731182795, 0.6159139784946237, 0.6086021505376344, 0.6223655913978494, 0.6197849462365591, 0.6124731182795699, 0.6249462365591398, 0.6012903225806452, 0.6219354838709678]
y = ["syn_hyp"]*40+["ig"]*40+["hybrid"]*40
method = ["CC-Seed"]*20+["Seed"]*20+ ["CC-Seed"]*20+["Seed"]*20+ ["CC-Seed"]*20+["Seed"]*20
data = {"x":x, "y":y, "models":method}
data = pd.DataFrame(data)
box_plotting(data)


# def plot_stacked_bar():
#     plotdata = pd.DataFrame({
#         "CG":[40, 40, 10, 26, 36],
#         "ML":[19, 18, 30, 40, 38],
#         "NS":[80, 50, 42, 17, 60]
#         },
#         index=["C0", "C1", "C2", "C3", "C4"]
#     )
#
#     plotdata.plot(kind='bar', stacked=True)
#     plt.title("Total Pie Consumption")
#     plt.xlabel("Family Member")
#     plt.ylabel("Pies Consumed")
#     plt.show()
#
#
# plot_stacked_bar1()